# Google Forms連携セットアップガイド（簡素版）

## 概要
ランディングページのシンプルな申し込みフォーム（事業名・メールアドレスのみ）からGoogle Formsに直接送信し、Google Spreadsheetに自動記録する機能の設定方法です。

## 手順1: Google Formsの作成

### 1.1 フォームを新規作成
1. [Google Forms](https://forms.google.com/) にアクセス
2. 「新しいフォームを作成」をクリック
3. フォームタイトル：「LINE勤怠管理システム - お申し込み」

### 1.2 質問項目を追加
以下の順番で質問を追加してください：

1. **事業名** (短答式テキスト, 必須)
   - 質問：「事業名（会社名・屋号・個人名など）」
   - 説明：「法人・個人事業主・個人を問いません」
   
2. **メールアドレス** (短答式テキスト, 必須)
   - 質問：「メールアドレス」
   - 説明：「設定方法や導入手順をご案内します」
   - 回答の検証：「メールアドレス」をONにする

## 手順2: entry IDの取得

### 2.1 フォームのHTMLソースを取得
1. 作成したフォームの「送信」をクリック
2. 「リンク」タブを選択
3. 「URLを短縮」のチェックを外す
4. URLをコピー（例：`https://docs.google.com/forms/d/e/1FAIpQLSe.../viewform`）
5. 新しいタブでそのURLを開く
6. ブラウザの開発者ツールを開く（F12キー）
7. 「Elements」タブでHTMLソースを確認

### 2.2 各フィールドのentry IDを見つける
HTMLソース内で以下のパターンを探します：
```html
<input type="text" name="entry.123456789" ...>
```

各質問のentry IDをメモしてください：

- **事業名**: `entry.xxxxxxxxx`
- **メールアドレス**: `entry.xxxxxxxxx`

### 2.3 Form IDの取得
URLから Form ID を抽出します：
```
https://docs.google.com/forms/d/e/1FAIpQLSe_YOUR_FORM_ID_HERE/viewform
```

## 手順3: コードの更新

`landing.html` の `GOOGLE_FORM_CONFIG` セクションを更新してください：

```javascript
const GOOGLE_FORM_CONFIG = {
    // 実際のForm IDに変更
    formUrl: 'https://docs.google.com/forms/d/e/YOUR_ACTUAL_FORM_ID/formResponse',
    
    // 実際のentry IDに変更
    fields: {
        businessName: 'entry.YOUR_BUSINESS_NAME_ID',
        email: 'entry.YOUR_EMAIL_ID'
    }
};
```

## 手順4: スプレッドシートの設定

### 4.1 回答の保存先設定
1. Google Formsの編集画面で「回答」タブをクリック
2. スプレッドシートアイコンをクリック
3. 「新しいスプレッドシートを作成」を選択
4. スプレッドシート名：「LINE勤怠管理 - お申し込み管理」

### 4.2 スプレッドシートのカスタマイズ（推奨）
```
列A: タイムスタンプ
列B: 事業名
列C: メールアドレス
```

推奨設定：
- 列の幅を調整（事業名：200px、メールアドレス：250px）
- 条件付き書式設定：新しい申し込みを色付け
- フィルター機能の追加
- 並び替え：最新順

## 手順5: テスト

### 5.1 動作確認
1. ランディングページのフォームに以下を入力：
   - 事業名：「テスト株式会社」
   - メールアドレス：「test@example.com」
2. 「無料で申し込む」ボタンをクリック
3. 成功メッセージが表示されることを確認
4. Google Spreadsheetに新しい行が追加されることを確認

### 5.2 トラブルシューティング
- ブラウザの開発者ツールでエラーメッセージを確認
- Google Formsの設定（公開状態、回答受付状態）を確認
- entry IDが正しく設定されているか確認

## 手順6: 通知設定（必須）

### 6.1 メール通知の設定
1. Google Formsの「回答」タブ
2. 「新しい回答についてメール通知を受け取る」をON
3. 新規申し込みがあれば即座にメールで通知されます

### 6.2 自動返信メールの設定（上級者向け）
Google Apps Scriptを使用して申し込み者に自動返信メールを送ることができます：

```javascript
function onFormSubmit(e) {
  const responses = e.values;
  const businessName = responses[1];
  const email = responses[2];
  
  const subject = '【LINE勤怠管理】お申し込みありがとうございます';
  const body = `
${businessName} 様

この度はLINE勤怠管理システムにお申し込みいただき、ありがとうございます。

24時間以内に詳細な設定方法をご案内いたします。
ご不明な点がございましたら、お気軽にお問い合わせください。

LINE勤怠管理チーム
  `;
  
  GmailApp.sendEmail(email, subject, body);
}
```

## セキュリティとプライバシー

### データの取り扱い
- 最小限の情報のみ収集（事業名・メールアドレス）
- 収集した個人情報は適切に管理してください
- 不要になったデータは定期的に削除してください

### アクセス制限
- スプレッドシートの共有設定を適切に設定
- 必要最小限の人員のみにアクセス権を付与

## 申し込み後のフロー（推奨）

1. **申し込み受付** → **自動通知**
2. **24時間以内** → **詳細メール送信**
   - 設定手順書（PDF）
   - LINE Bot招待リンク
   - サポート連絡先
3. **設定完了後** → **フォローアップ**
   - 使い方説明
   - 不具合報告窓口の案内

## 補足情報

### メリット
- 申し込みハードルが大幅に下がる
- 管理が簡単
- 個人事業主や個人の方も申し込みやすい

### 注意点
- 詳細情報は後から個別にヒアリング
- スパムメール対策を検討
- メール到達率を向上させるため、SPFレコード等の設定推奨

---

**注意**: 実際の本番環境で使用する前に、必ずテスト環境で動作確認を行ってください。 